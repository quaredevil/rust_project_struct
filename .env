# Application
APP__PORT=8080
RUST_LOG=info,listener=debug

# Persistence
DATABASE_URL=postgres://postgres:postgres@localhost:5432/listener

# Caches / Messaging
REDIS_URL=redis://localhost:6379


# Kafka
KAFKA_BROKERS=localhost:19092
SCHEMA_REGISTRY_URL=http://localhost:8081

# Kafka Topics (following pattern: crypto-listener-{topic-name})
KAFKA_TOPIC_PRICES=crypto-listener-prices
KAFKA_TOPIC_SUBSCRIPTION_COMMANDS=crypto-listener-subscription-commands
KAFKA_TOPIC_UNSUBSCRIPTION_COMMANDS=crypto-listener-unsubscription-commands

# Kafka Producer Settings
KAFKA_PUBLISH_QUEUE_CAPACITY=50000
KAFKA_MAX_RETRY_ATTEMPTS=7
KAFKA_RETRY_BACKOFF_MS=750

# Market
APP__MARKET__BATCH_INTERVAL_MS=100
APP__MARKET__BATCH_MAX_SIZE=50
APP__MARKET__MIN_PRICE_CHANGE_PERCENT=0.05
APP__MARKET__BINANCE_WS_URL=wss://stream.binance.com:9443/ws

# Sampling / Adaptive logging
LOG_SAMPLE_RATE=0.20
LOG_SAMPLE_MIN=0.0001
LOG_SAMPLE_MAX=0.5
LOG_SAMPLE_WINDOW_MS=1000
LOG_SAMPLE_TARGET_EVENTS=100
